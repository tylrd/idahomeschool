{% extends "academics/base.html" %}
{% load crispy_forms_tags %}

{% block title %}{% if form.instance.pk %}Edit Palette{% else %}Create Color Palette{% endif %}{% endblock %}

{% block academics_content %}
<div class="card">
  <div class="card-header">
    <h3 class="mb-0">{% if form.instance.pk %}Edit Palette{% else %}Create Color Palette{% endif %}</h3>
  </div>
  <div class="card-body">
    <form method="post">
      {% csrf_token %}

      <div class="mb-3">
        <label for="id_name" class="form-label">Palette Name *</label>
        <input type="text" class="form-control" id="id_name" name="name" value="{{ form.name.value|default:'' }}" required maxlength="100" placeholder="e.g., Ocean Blues, Earth Tones">
        <div class="form-text">Give your color palette a descriptive name</div>
      </div>

      <div class="mb-3">
        <div class="form-check">
          <input type="checkbox" class="form-check-input" id="id_is_active" name="is_active" {% if form.is_active.value %}checked{% endif %}>
          <label class="form-check-label" for="id_is_active">
            Set as active palette
          </label>
          <div class="form-text">The active palette is used for random tag color generation. Only one palette can be active at a time.</div>
        </div>
      </div>

      <div class="d-flex gap-2">
        <button type="submit" class="btn btn-success">{% if form.instance.pk %}Save Changes{% else %}Create Palette{% endif %}</button>
        <a href="{% url 'academics:color_palette_list' %}" class="btn btn-secondary">Cancel</a>
      </div>
    </form>

    {% if form.instance.pk %}
    <hr class="my-4">
    <div class="alert alert-info">
      <i class="bi bi-info-circle"></i>
      <strong>Note:</strong> To add colors to this palette, use the "Import Palette" feature or create colors individually.
    </div>
    {% endif %}
  </div>
</div>
{% endblock academics_content %}
