{% extends "academics/base.html" %}
{% load crispy_forms_tags %}

{% block title %}{% if form.instance.pk %}Edit Palette{% else %}Create Color Palette{% endif %}{% endblock %}

{% block academics_content %}
<div class="card">
  <header>
    <h2>{% if form.instance.pk %}Edit Palette{% else %}Create Color Palette{% endif %}</h2>
  </header>
  <section>
    <form method="post">
      {% csrf_token %}

      <div class="grid gap-2">
        <label for="id_name">Palette Name *</label>
        <input type="text" id="id_name" name="name" value="{{ form.name.value|default:'' }}" required maxlength="100" placeholder="e.g., Ocean Blues, Earth Tones">
        <p class="text-muted-foreground text-sm">Give your color palette a descriptive name</p>
      </div>

      <div class="flex items-center gap-2 mt-4">
        <input type="checkbox" id="id_is_active" name="is_active" {% if form.is_active.value %}checked{% endif %}>
        <label for="id_is_active">
          Set as active palette
        </label>
      </div>
      <p class="text-muted-foreground text-sm mt-1">The active palette is used for random tag color generation. Only one palette can be active at a time.</p>

      <div class="flex gap-2 mt-6">
        <button type="submit" class="btn-primary">{% if form.instance.pk %}Save Changes{% else %}Create Palette{% endif %}</button>
        <a href="{% url 'academics:color_palette_list' %}" class="btn-secondary">Cancel</a>
      </div>
    </form>

    {% if form.instance.pk %}
    <hr class="my-4">
    <div class="alert">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10" />
        <line x1="12" x2="12" y1="8" y2="12" />
        <line x1="12" x2="12.01" y1="16" y2="16" />
      </svg>
      <h2><strong>Note:</strong></h2>
      <section>To add colors to this palette, use the "Import Palette" feature or create colors individually.</section>
    </div>
    {% endif %}
  </section>
</div>
{% endblock academics_content %}
