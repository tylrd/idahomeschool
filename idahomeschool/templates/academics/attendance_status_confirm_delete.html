{% extends "academics/base.html" %}

{% block title %}Delete Attendance Status{% endblock %}

{% block academics_content %}
<div class="flex justify-center">
  <div class="w-full max-w-2xl">
    <div class="card border-destructive">
      <header class="bg-destructive text-destructive-foreground">
        <h2 class="flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3" /><path d="M12 9v4" /><path d="M12 17h.01" /></svg>
          Confirm Deletion
        </h2>
      </header>
      <section class="grid gap-4">
        <h3 class="text-lg">Are you sure you want to delete this attendance status?</h3>

        <div class="rounded-lg border bg-card p-4">
          <div class="flex items-center gap-2 mb-3">
            <span class="inline-flex items-center justify-center min-w-[40px] px-2 py-2 rounded font-medium" style="background-color: {{ object.color }}; {% if object.color|slice:':4' == '#ffc' or object.color|slice:':4' == '#ff0' or object.color|slice:':4' == '#fff' %}color: #000;{% endif %}">
              {{ object.abbreviation }}
            </span>
            <strong>{{ object.label }}</strong>
          </div>
          <dl class="grid grid-cols-1 sm:grid-cols-3 gap-x-4 gap-y-2 text-sm">
            <dt class="font-medium">Code:</dt>
            <dd class="sm:col-span-2"><code class="text-sm">{{ object.code }}</code></dd>

            <dt class="font-medium">Color:</dt>
            <dd class="sm:col-span-2">
              <div class="flex items-center gap-2">
                <div class="w-5 h-5 rounded border border-border" style="background-color: {{ object.color }};"></div>
                <code class="text-sm">{{ object.color }}</code>
              </div>
            </dd>

            <dt class="font-medium">Instructional:</dt>
            <dd class="sm:col-span-2">
              {% if object.is_instructional %}
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline text-green-600"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" /><path d="m9 11 3 3L22 4" /></svg> Yes
              {% else %}
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline text-muted-foreground"><circle cx="12" cy="12" r="10" /><path d="m15 9-6 6" /><path d="m9 9 6 6" /></svg> No
              {% endif %}
            </dd>

            <dt class="font-medium">Default:</dt>
            <dd class="sm:col-span-2">
              {% if object.is_default %}
                <span class="badge">Yes</span>
              {% else %}
                No
              {% endif %}
            </dd>
          </dl>
        </div>

        <div class="alert">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3" /><path d="M12 9v4" /><path d="M12 17h.01" /></svg>
          <h2>Warning</h2>
          <section>
            <p>Deleting this status may affect existing daily logs that use it. Make sure you have a replacement status before deleting.</p>
          </section>
        </div>
      </section>
      <footer>
        <form method="post">
          {% csrf_token %}
          <div class="flex flex-col sm:flex-row gap-2 sm:justify-end">
            <a href="{% url 'academics:attendance_status_list' %}" class="btn-outline">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 19-7-7 7-7" /><path d="M19 12H5" /></svg>
              Cancel
            </a>
            <button type="submit" class="btn-destructive">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18" /><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" /><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" /></svg>
              Yes, Delete Status
            </button>
          </div>
        </form>
      </footer>
    </div>
  </div>
</div>

{% endblock academics_content %}
