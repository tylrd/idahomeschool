{% if preview_colors or preview_errors %}
<div class="mt-3">
  {% if preview_errors %}
  <div class="alert alert-warning">
    <h6><i class="bi bi-exclamation-triangle"></i> Errors Found:</h6>
    <ul class="mb-0">
      {% for error in preview_errors %}
      <li>{{ error }}</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}

  {% if preview_colors %}
  <div class="mb-3">
    <p class="text-muted">
      Found <strong>{{ preview_colors|length }}</strong> color(s).
      <strong class="text-success">{{ new_count }}</strong> will be imported,
      <strong class="text-secondary">{{ existing_count }}</strong> already exist and will be skipped.
    </p>
  </div>

  <!-- Color Grid Preview -->
  <div class="row g-2">
    {% for color in preview_colors %}
    <div class="col-auto">
      <div class="card {% if color.exists %}border-secondary{% endif %}" style="width: 80px;">
        <div class="card-body text-center p-2">
          <div class="mb-1" style="height: 50px; background-color: {{ color.hex_code }}; border-radius: 4px; border: 1px solid #dee2e6;"></div>
          <small class="d-block" style="font-size: 0.7rem;">{{ color.hex_code }}</small>
          {% if color.exists %}
          <span class="badge bg-secondary mt-1" style="font-size: 0.6rem;">Exists</span>
          {% else %}
          <span class="badge bg-success mt-1" style="font-size: 0.6rem;">New</span>
          {% endif %}
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
  {% endif %}
</div>
{% endif %}
